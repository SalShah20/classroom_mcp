# Google Classroom MCP Server

An MCP (Model Context Protocol) server that connects Claude to Google Classroom, letting you query courses, assignments, grades, and more through natural language.

## Available Tools

| Tool | Description |
|---|---|
| `list_courses` | List all courses with optional filtering |
| `get_course` | Get detailed info about a specific course |
| `list_coursework` | List assignments in a course |
| `get_coursework` | Get details for a specific assignment |
| `create_coursework` | Create a new assignment (teacher permissions required) |
| `list_students` | List students enrolled in a course |
| `list_submissions` | View student submissions for an assignment |
| `list_announcements` | View announcements for a course |
| `get_upcoming_assignments` | Get all assignments due in the next 30 days across every active course |
| `get_grades` | View your grades across all active courses |

Legacy tools (`courses`, `course-details`, `assignments`) are still supported for backward compatibility.

---

## Setup

### Prerequisites

- Node.js v16 or higher
- A Google Cloud project with the Classroom API enabled

### Step 1 — Clone and install

```bash
git clone https://github.com/faizan45640/google-classroom-mcp-server.git
cd google-classroom-mcp-server
npm install
npm run build
```

### Step 2 — Create a Google Cloud project and enable the Classroom API

1. Go to [console.cloud.google.com](https://console.cloud.google.com/)
2. Create a new project (or select an existing one)
3. In the left menu, go to **APIs & Services → Library**
4. Search for **Google Classroom API** and click **Enable**

### Step 3 — Create OAuth 2.0 credentials

1. Go to **APIs & Services → Credentials**
2. Click **Create Credentials → OAuth 2.0 Client ID**
3. If prompted, configure the OAuth consent screen first:
   - Set User Type to **External**
   - Fill in an app name (anything works, e.g. "Classroom MCP")
   - Add your Google account email as a test user
4. Back on the credentials page, choose **Desktop app** as the application type
5. Click **Create**, then **Download JSON**
6. Rename the downloaded file to `credentials.json` and place it in the project root folder

### Step 4 — Authenticate

```bash
npm run setup-auth
```

This will:
1. Read your `credentials.json`
2. Print a URL — **copy it and open it in your browser**
3. Sign in with your Google account and click **Allow**
4. Google will show you an authorization code — **copy it**
5. Paste the code back into the terminal and press Enter

On success, a `.env` file is created in the project root containing your credentials. You'll need these values in the next step.

> **No refresh token received?** This can happen if you've authorized the app before. Go to [myaccount.google.com/permissions](https://myaccount.google.com/permissions), remove the app's access, then run `npm run setup-auth` again.

### Step 5 — Add the server to Claude Desktop

Open your Claude Desktop config file:

- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

Add the following entry (update the path and credential values):

```json
{
  "mcpServers": {
    "google-classroom": {
      "command": "node",
      "args": ["C:/path/to/google-classroom-mcp-server/dist/index.js"],
      "env": {
        "GOOGLE_CLIENT_ID": "your_client_id",
        "GOOGLE_CLIENT_SECRET": "your_client_secret",
        "GOOGLE_REFRESH_TOKEN": "your_refresh_token"
      }
    }
  }
}
```

To find your values, open the `.env` file created in Step 4 — it contains all three values with the matching names.

**Restart Claude Desktop** after saving the config.

---

## Verifying it works

Once Claude Desktop is restarted, try asking Claude:

- "List all my Google Classroom courses"
- "What assignments do I have coming up in the next 30 days?"
- "Show me my grades across all my courses"
- "What assignments are in my [course name] class?"
- "Show me the students in my [course name] course"
- "Create a new assignment called 'Chapter 5 Quiz' in my [course name] course"

---

## Running locally (without Claude Desktop)

```bash
# Build
npm run build

# Run the server directly (reads credentials from .env automatically)
npm start
```

---

## Project structure

```
google-classroom-mcp-server/
├── src/
│   ├── index.ts          # Main server — all tools are defined here
│   └── setup-auth.ts     # Interactive authentication setup
├── dist/                 # Compiled output (generated by npm run build)
├── credentials.json      # Your Google OAuth credentials (not committed to git)
├── .env                  # Your tokens after running setup-auth (not committed to git)
├── tokens.json           # Legacy token file for backward compatibility (not committed to git)
├── package.json
├── tsconfig.json
└── README.md
```

---

## API Reference

### Courses
- `list_courses(courseStates?, teacherId?, studentId?)` — list courses, optionally filtered by state (ACTIVE, ARCHIVED, etc.)
- `get_course(courseId)` — get full details for one course

### Assignments
- `list_coursework(courseId, courseWorkStates?)` — list assignments in a course
- `get_coursework(courseId, courseWorkId)` — get a specific assignment
- `create_coursework(courseId, title, description?, dueDate?, dueTime?, maxPoints?, workType?)` — create an assignment (teacher only)
- `get_upcoming_assignments()` — returns all published assignments with a due date in the next 30 days, across all active courses, sorted by due date

### Grades & Submissions
- `get_grades()` — returns your grade for every assignment across all active courses, including `assignedGrade`, `maxPoints`, `state`, and `dueDate`
- `list_submissions(courseId, courseWorkId, userId?)` — list raw submission objects for an assignment

### Students & Announcements
- `list_students(courseId)` — list enrolled students
- `list_announcements(courseId, announcementStates?)` — list announcements

---

## Troubleshooting

**`credentials.json not found`**
Make sure the file is in the project root (same folder as `package.json`), not in a subfolder.

**`No refresh token received`**
Revoke the app's existing access at [myaccount.google.com/permissions](https://myaccount.google.com/permissions), then re-run `npm run setup-auth`.

**`Google Classroom API not initialized`**
The server couldn't find credentials. Make sure the `env` block in your Claude Desktop config has all three values (`GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET`, `GOOGLE_REFRESH_TOKEN`).

**Server not appearing in Claude Desktop**
- Check that the file path in `args` points to `dist/index.js` and uses the correct absolute path
- Make sure you ran `npm run build` so `dist/index.js` exists
- Restart Claude Desktop fully after editing the config

**Build errors**
```bash
npm run clean
npm install
npm run build
```

**`get_grades` returns empty**
Grades are fetched for the authenticated user's own submissions. If you're logged in as a teacher, you won't have student submissions yourself. This tool is intended for student accounts.

---

## Security notes

- `credentials.json`, `.env`, and `tokens.json` are excluded from git via `.gitignore` — never commit these
- The server only requests the minimum Classroom API scopes needed
- Access tokens are refreshed automatically using the stored refresh token

---

## License

MIT
